<div class="container" ng-controller="UsersCtrl">
    <h1>Users</h1>
  <div class="row">
    <!--   <ul>
        <li ng-repeat="user in users">{{user.first_name}} {{user.last_name}} <a ng-click="editUser(user)">update</a> <a ng-click="deleteUser(user)">delete</a> </li>
      </ul>
   -->

      <div class="col-xs-7">
        <table class="table">
          <thread>
            <tr>
              <th>First Name</th>
              <th>Last Name </th>
              <th>Title</th>
              <th>Skills</th>
              <th></th>
            </tr>
          </thread>
          <body>
            <tr ng-repeat="user in users">
              <td> {{ user.first_name}}</td>
              <td> {{ user.last_name}} </td>
              <td> {{ user.title.name}} </td>
              <td><p ng-repeat="skill in user.skills">{{skill.name}}</p></td>
              <td><a ng-click="editUser(user)">Edit</a> | <a ng-click="deleteUser(user)">Delete</a></td>
            </tr>
          </body>
        </table>
      </div>
      <div class="col-xs-5">
        <form role='form' name='createNameForm' ng-submit='upsertUser(user)'>
        <label for='first_name'>First Name</label>
        <input type='text' class="form-control" ng-model="user.first_name" required>
        <label for='last_name'>Last Name</label>
        <input type='text' class="form-control" ng-model="user.last_name" required><br>

        <label for='title'>Title</label>
        <select class="form-control" ng-model="user.title_id" ng-options="title.id as title.name for title in titles">
          <option value="">Select One</option>
        </select><br>

        <label for='skills'>Skills</label><br>
          <div ng-repeat="skill in skills">
            <input type="checkbox" value="{{ skill.id }}" ng-checked="userHasSkill(skill)" ng-model="skill.checked">{{skill.name}}
          </div><br>

        <button type='submit' class="btn btn-primary" ng-disabled="createNameForm.$invalid">Submit</button>
        </form> <br>
      </div>

  </div>
</div>
